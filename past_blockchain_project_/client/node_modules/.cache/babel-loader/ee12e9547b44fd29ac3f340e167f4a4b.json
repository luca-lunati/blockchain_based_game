{"ast":null,"code":"var _jsxFileName = \"/Users/valeria/VSCode/gruppe1/client/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport NFT from \"./contracts/NFT.json\";\nimport getWeb3 from \"./getWeb3\";\nimport './dark_theme/css/mdb.dark.min.css';\nimport \"./App.css\";\n\nconst App = () => {\n  const StudentObj = (name, price, id, owner) => {\n    return {\n      name: name,\n      price: price,\n      id: id,\n      owner: owner\n    };\n  };\n\n  const [web3, setWeb3] = useState();\n  const [contract, setContract] = useState(null);\n  const [account, setAccounts] = useState(\"\");\n  const [mintText, setMintText] = useState(\"\");\n  const [students, setStudents] = useState([StudentObj()]);\n  const [priceText, setPriceText] = useState(\"\");\n  const [studentId, setStudentId] = useState(0);\n\n  const mint = () => {\n    if (mintText.length > 0) contract.methods.mint(mintText).send({\n      from: account\n    }, error => {\n      console.log(\"it worked\");\n\n      if (!error) {\n        let student = StudentObj(mintText, priceText, studentId);\n        setStudents([...students, student]);\n        setMintText(\"\");\n        setPriceText(\"\");\n        setStudentId(students.length);\n      }\n    });\n  }; // load all the nfts\n\n\n  const loadNFTS = async contract => {\n    const totalSupply = await contract.methods.totalSupply().call();\n    console.log(totalSupply);\n    let newResults = [StudentObj()];\n\n    for (let i = 0; i < totalSupply; i++) {\n      let student = await contract.methods.students(i).call();\n      let newStudent = JSON.parse(JSON.stringify(student)); //use json\n\n      let newStudenPrice = newStudent.price / 1000000000000000000; //convert wei to ether\n\n      let studentToOwner = await contract.methods.studentToOwner(i).call();\n      let newStudent2 = StudentObj(newStudent.name, newStudenPrice, newStudent.id, studentToOwner);\n      newResults.push(newStudent2);\n    }\n\n    setStudents(newResults);\n  }; // load web3 account from metamask\n\n\n  const loadWeb3Acc = async web3 => {\n    const accounts = await web3.eth.getAccounts();\n    console.log(accounts);\n\n    if (accounts) {\n      setWeb3(web3);\n      setAccounts(accounts[0]);\n    }\n  }; // load the contract\n\n\n  const loadWeb3Contract = async web3 => {\n    const networkId = await web3.eth.net.getId();\n    const networkData = NFT.networks[networkId];\n\n    if (networkData) {\n      const abi = NFT.abi; // const address = networkData.address;\n\n      const contract = new web3.eth.Contract(abi, \"0xDaE477F7A95B4Ef701D25917119E83864780cb19\");\n      setContract(contract);\n      console.log(contract);\n      return contract;\n    }\n  };\n\n  useEffect(async () => {\n    const web3 = await getWeb3();\n    await loadWeb3Acc(web3);\n    const contract = await loadWeb3Contract(web3);\n    await loadNFTS(contract);\n  }, []);\n\n  function buy(id, price) {\n    if (id !== undefined) {\n      console.log(\"ID IS: \" + id);\n      contract.methods.buyNFT(id).send({\n        from: account,\n        value: web3.utils.toWei(price.toString(), \"ether\")\n      }, error => {\n        if (error) {\n          console.log(error);\n        }\n      });\n    }\n  }\n\n  function setStudentPrice(index, value) {\n    if (value !== undefined) {\n      const data = [...students];\n      data[index + 1].price = value;\n      setStudents(data);\n    }\n  }\n\n  const sell = index => {\n    let weiPrice = web3.utils.toWei(students[index + 1].price, \"ether\");\n    contract.methods.setPrice(students[index + 1].id, weiPrice).send({\n      from: account\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar navbar-light bg-light px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"navbar-brand\",\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 3\n    }\n  }, \"Crypto Students\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"navbar-brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 3\n    }\n  }, account)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col d-flex flex-column align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mb-4\",\n    src: \"https://avatars.dicebear.com/api/avataaars/Welcome.svg\",\n    alt: \"\",\n    width: \"85\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-5 fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"Create your own Crypto Student NFT!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 text-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: mintText,\n    onChange: e => setMintText(e.target.value),\n    className: \"form-control mb-2\",\n    placeholder: \"e.g. Beethoven\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: mint,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, \"Mint\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, \"Your collection\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8 d-flex justify-content-center flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, students.slice(1, students.length).map((student, index) => {\n    if (student.owner === account) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column align-items-center\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"150\",\n        src: `https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      }, student.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        value: students[index + 1].price,\n        onChange: e => setStudentPrice(index, e.target.value),\n        className: \"p-2\",\n        placeholder: \"Set a price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => sell(index),\n        className: \"btn btn-primary p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 23\n        }\n      }, \"Sell\")));\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, \"Buy Students\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8 d-flex justify-content-center flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }, students.slice(1, students.length).map((student, index) => {\n    if (student.price > 0 && student.owner !== account) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column align-items-center\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"150\",\n        src: `https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, student.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => buy(student.id, student.price),\n        className: \"btn btn-primary p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 19\n        }\n      }, \"Buy for \", student.price, \" ETH\")));\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, \"See your Collegues NFTS\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8 d-flex justify-content-center flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, students.slice(1, students.length).map((student, index) => {\n    if (student.price == 0 && student.owner !== account) {\n      let shortOwnerText = student.owner.substring(0, 10) + \"...\";\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column align-items-center\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"150\",\n        src: `https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }, student.name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }\n      }, \"Owner:\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }\n      }, shortOwnerText));\n    }\n  }))))));\n};\n\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","NFT","getWeb3","App","StudentObj","name","price","id","owner","web3","setWeb3","contract","setContract","account","setAccounts","mintText","setMintText","students","setStudents","priceText","setPriceText","studentId","setStudentId","mint","length","methods","send","from","error","console","log","student","loadNFTS","totalSupply","call","newResults","i","newStudent","JSON","parse","stringify","newStudenPrice","studentToOwner","newStudent2","push","loadWeb3Acc","accounts","eth","getAccounts","loadWeb3Contract","networkId","net","getId","networkData","networks","abi","Contract","buy","undefined","buyNFT","value","utils","toWei","toString","setStudentPrice","index","data","sell","weiPrice","setPrice","e","target","slice","map","replace","shortOwnerText","substring"],"sources":["/Users/valeria/VSCode/gruppe1/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport NFT from \"./contracts/NFT.json\";\nimport getWeb3 from \"./getWeb3\";\nimport './dark_theme/css/mdb.dark.min.css';\nimport \"./App.css\";\n\nconst App=()=>{\n\n  const StudentObj = (name, price, id, owner) => { return { name: name, price: price, id: id, owner: owner } }\n  const [web3, setWeb3] = useState();\n  const [contract, setContract] = useState(null);\n  const [account, setAccounts] = useState(\"\");\n  const [mintText, setMintText] = useState(\"\");\n  const [students, setStudents]= useState([StudentObj()]);\n  const [priceText, setPriceText] = useState(\"\");\n  const [studentId, setStudentId] = useState(0);\n  \n  const mint = () => {\n    if (mintText.length > 0)\n      contract.methods.mint(mintText).send({ from: account }, (error)=>{\n        console.log(\"it worked\")\n        if(!error){\n          let student = StudentObj(mintText, priceText, studentId);\n          setStudents([...students, student]);\n          setMintText(\"\");\n          setPriceText(\"\");\n          setStudentId(students.length);\n        \n        }\n      });\n  }\n\n   // load all the nfts\n  const loadNFTS = async (contract) => {\n    const totalSupply = await contract.methods.totalSupply().call();\n    console.log(totalSupply);\n    let newResults = [StudentObj()];\n\n    for(let i = 0; i < totalSupply; i++){\n      let student = await contract.methods.students(i).call();\n      let newStudent = (JSON.parse(JSON.stringify(student))); //use json\n      let newStudenPrice = newStudent.price / 1000000000000000000; //convert wei to ether\n      let studentToOwner = await contract.methods.studentToOwner(i).call();\n      let newStudent2 = StudentObj(newStudent.name, newStudenPrice, newStudent.id, studentToOwner);\n      newResults.push(newStudent2);\n    }\n    setStudents(newResults);\n\n  }\n\n    // load web3 account from metamask\n  const loadWeb3Acc = async (web3) => {\n    const accounts = await web3.eth.getAccounts();\n    console.log(accounts)\n    if(accounts){\n      setWeb3(web3);\n      setAccounts(accounts[0]);\n    }\n  }\n\n    // load the contract\n  const loadWeb3Contract = async (web3) => {\n    const networkId = await web3.eth.net.getId();\n    const networkData = NFT.networks[networkId];\n    if(networkData){\n      const abi = NFT.abi;\n      // const address = networkData.address;\n      const contract = new web3.eth.Contract(abi, \"0xDaE477F7A95B4Ef701D25917119E83864780cb19\");\n      setContract(contract);\n      console.log(contract);\n      return contract;\n    }\n  }\n\n\n\n \n\n useEffect(async () => {\n  const web3 = await getWeb3();\n  await loadWeb3Acc(web3);\n  const contract = await loadWeb3Contract(web3);\n  await loadNFTS(contract);\n  }, [])\n\n  function buy(id, price) {\n    if(id !== undefined) {\n      console.log(\"ID IS: \" + id);\n      contract.methods.buyNFT(id).send( {from: account, value: web3.utils.toWei(price.toString(), \"ether\")}, (error) => {\n        if(error) {\n          console.log(error);\n        }\n    \n      });\n    }\n  }\n\n  function setStudentPrice(index, value) {\n    if(value !== undefined) {\n      const data = [...students]\n      data[index+1].price = value\n      setStudents(data)\n    }\n  }\n\n  const sell = (index) => {\n    let weiPrice = web3.utils.toWei(students[index+1].price, \"ether\")\n    contract.methods.setPrice(students[index+1].id, weiPrice).send({ from: account });\n  }\n\n  return <div>\n<nav className=\"navbar navbar-light bg-light px-4\">\n  <a className=\"navbar-brand\" href=\"#\">Crypto Students</a>\n  <span  className=\"navbar-brand\" >{account}</span>\n</nav>\n<div className=\"container-fluid mt-5\">\n  <div className=\"row\">\n    <div className=\"col d-flex flex-column align-items-center\">\n      <img className=\"mb-4\" src=\"https://avatars.dicebear.com/api/avataaars/Welcome.svg\" alt=\"\" width=\"85\"/>\n      <h1 className=\"display-5 fw-bold\">Create your own Crypto Student NFT!</h1>\n      <div className=\"col-6 text-center mb-3\" >\n        <div>\n          <input\n            type=\"text\"\n            value={mintText}\n            onChange={(e)=>setMintText(e.target.value)}\n            className=\"form-control mb-2\"\n            placeholder=\"e.g. Beethoven\" />\n          <button onClick={mint} className=\"btn btn-primary\">Mint</button>\n        </div>\n      </div>\n      <br/>\n      <br/>\n      <br/>\n      <h1>Your collection</h1>\n      <div className=\"col-8 d-flex justify-content-center flex-wrap\">\n \n          {students.slice(1, students.length).map((student, index) => {\n            if (student.owner === account) {\n              return (\n                  <div className=\"d-flex flex-column align-items-center\" key={index}>\n                    <img width=\"150\"\n                         src={`https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`}/>\n                    <span>{student.name}</span>\n                    <div className=\"d-flex flex-row\">\n                      <input\n                          type=\"number\"\n                          value={students[index + 1].price}\n                          onChange={\n                            (e) =>\n                                setStudentPrice(index, e.target.value)\n                          }\n                          className=\"p-2\"\n                          placeholder=\"Set a price\"/>\n                      <button onClick={() => sell(index)} className=\"btn btn-primary p-2\">Sell</button>\n                    </div>\n                  </div>\n              )\n            }\n          })}\n          \n      </div>\n      <br/>\n      <br/>\n      <br/>\n      <h1>Buy Students</h1>\n      <div className=\"col-8 d-flex justify-content-center flex-wrap\">\n        {students.slice(1, students.length).map((student, index) => {\n          if (student.price > 0 && student.owner !== account) {\n            return (\n              <div className=\"d-flex flex-column align-items-center\" key={index}>\n                <img width=\"150\" src={`https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`} />\n                <span>{student.name}</span>\n                <div className=\"d-flex flex-row\">\n                  <button onClick={() => buy(student.id, student.price)} className=\"btn btn-primary p-2\">Buy for {student.price} ETH</button>\n                </div>\n              </div>\n          )\n          }\n        })\n        }\n      </div>\n      <h1>See your Collegues NFTS</h1>\n      <div className=\"col-8 d-flex justify-content-center flex-wrap\">\n      \n        {students.slice(1, students.length).map((student, index) => {\n          if (student.price == 0 && student.owner !== account) {\n            let shortOwnerText = student.owner.substring(0, 10) + \"...\"\n            return (\n              <div className=\"d-flex flex-column align-items-center\" key={index}>\n                <img width=\"150\" src={`https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`} />\n                <span>{student.name}</span>\n                <p>Owner:</p>\n                <span>{shortOwnerText}</span>\n              </div>\n          )\n          }\n        })\n        }\n      </div>\n\n    </div>\n  </div>\n</div>\n</div>;\n};\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}