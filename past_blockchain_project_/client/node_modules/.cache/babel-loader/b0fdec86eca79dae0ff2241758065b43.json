{"ast":null,"code":"var _jsxFileName = \"/Users/valeria/VSCode/blockchain_based_game/past_blockchain_project/client/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport NFT from \"./contracts/NFT.json\";\nimport getWeb3 from \"./getWeb3\";\nimport './dark_theme/css/mdb.dark.min.css';\nimport \"./App.css\";\n\nconst App = () => {\n  const PokemonObj = (nameID, owner) => {\n    return {\n      nameID: nameID,\n      owner: owner\n    };\n  };\n\n  const [web3, setWeb3] = useState();\n  const [contract, setContract] = useState(null);\n  const [account, setAccounts] = useState(\"\");\n  const [nameID, setNameID] = useState(0);\n  const [pokemonList, setPokemonList] = useState([PokemonObj()]);\n  const [enemy, setEnemy] = useState(\"\");\n  const [priceText, setPriceText] = useState(\"0.0000000000001\");\n  const [studentId, setStudentId] = useState(0);\n\n  const mint = () => {\n    if (nameID.length > 0) contract.methods.mint(nameID).send({\n      from: account\n    }, error => {\n      console.log(\"it worked\");\n\n      if (!error) {\n        let pok = PokemonObj(nameID, account);\n        setPokemonList([...pokemonList, pok]);\n        setNameID(0); // setPriceText(\"\");\n\n        setStudentId(pokemonList.length); // TODO read uuid from solidity programm\n      }\n    });\n  }; // load all the nfts\n\n\n  const loadNFTS = async contract => {\n    // get all NTFs from blockchain\n    const totalSupply = await contract.methods.totalSupply().call();\n    let newResults = [PokemonObj()];\n\n    for (let i = 0; i < totalSupply; i++) {\n      let pokemon = await contract.methods.pokemons(i).call();\n      let newPok = JSON.parse(JSON.stringify(pokemon)); //use json\n\n      let pokemonToOwner = await contract.methods.pokemonToOwner(i).call();\n      let newPokObj = PokemonObj(newPok.name_id, pokemonToOwner);\n      newResults.push(newPokObj);\n    }\n\n    setPokemonList(newResults);\n  }; // load web3 account from metamask\n\n\n  const loadWeb3Acc = async web3 => {\n    const accounts = await web3.eth.getAccounts();\n\n    if (accounts) {\n      setWeb3(web3);\n      setAccounts(accounts[0]);\n    }\n  }; // load the contract\n\n\n  const loadWeb3Contract = async web3 => {\n    //const networkId = await web3.eth.net.getId();\n    //const networkData = NFT.networks[5];\n    //if(networkData){\n    const abi = NFT.abi; // for local blockchain testing\n    // const address = networkData.address;\n    // const contract = new web3.eth.Contract(abi, address);\n\n    const contract = new web3.eth.Contract(abi, \"0x63a4e5e9559d1e72758216fc41e74b229a91cf42\"); // TODO get solidity contract address\n\n    setContract(contract);\n    return contract; //}\n  };\n\n  useEffect(async () => {\n    const web3 = await getWeb3();\n    await loadWeb3Acc(web3);\n    const contract = await loadWeb3Contract(web3);\n    await loadNFTS(contract);\n  }, []);\n\n  function fight(my_uuid, enemy_uuid) {\n    if (my_uuid !== undefined && enemy_uuid !== undefined) {\n      contract.methods.startFight(my_uuid, enemy_uuid).send({\n        from: account\n      }, error => {\n        if (error) {\n          console.log(error);\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar navbar-light bg-light px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"navbar-brand\",\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 3\n    }\n  }, \"Crypto Students\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"navbar-brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 3\n    }\n  }, account)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col d-flex flex-column align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mb-4\",\n    src: \"https://avatars.dicebear.com/api/avataaars/Welcome.svg\",\n    alt: \"\",\n    width: \"85\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mb-4\",\n    src: \"https://avatars.dicebear.com/api/avataaars/to_the.svg\",\n    alt: \"\",\n    width: \"85\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mb-4\",\n    src: \"https://avatars.dicebear.com/api/avataaars/best.svg\",\n    alt: \"\",\n    width: \"85\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mb-4\",\n    src: \"https://avatars.dicebear.com/api/avataaars/NFT_Marketplace.svg\",\n    alt: \"\",\n    width: \"85\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-5 fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, \"Create your own Crypto Student NFT!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 text-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: nameID,\n    onChange: e => setNameID(e.target.value),\n    className: \"form-control mb-2\",\n    placeholder: \"e.g. Beethoven\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: mint,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, \"Mint\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, \"Your collection\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8 d-flex justify-content-center flex-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, pokemonList.slice(1, pokemonList.length).map((student, my_uuid) => {\n    if (student.owner === account) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column align-items-center\",\n        key: my_uuid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"150\",\n        src: `https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      }, student.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        value: pokemonList[my_uuid + 1].price,\n        onChange: e => setEnemy(e.target.value) // TODO possible bug: using enemy's uuid for another of your pokemon\n        ,\n        className: \"p-2\",\n        placeholder: \"Give enemy uuid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => fight(my_uuid, enemy),\n        className: \"btn btn-primary p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 23\n        }\n      }, \"FIGHT\")));\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, \"See your friends NFTS\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8 d-flex justify-content-center flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, pokemonList.slice(1, pokemonList.length).map((student, index) => {\n    if (student.owner !== account) {\n      let shortOwnerText = student.owner.substring(0, 10) + \"...\";\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column align-items-center p-4\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"150\",\n        src: `https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }\n      }, student.name), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }, \"Owner : \", shortOwnerText));\n    }\n  }))))));\n};\n\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","NFT","getWeb3","App","PokemonObj","nameID","owner","web3","setWeb3","contract","setContract","account","setAccounts","setNameID","pokemonList","setPokemonList","enemy","setEnemy","priceText","setPriceText","studentId","setStudentId","mint","length","methods","send","from","error","console","log","pok","loadNFTS","totalSupply","call","newResults","i","pokemon","pokemons","newPok","JSON","parse","stringify","pokemonToOwner","newPokObj","name_id","push","loadWeb3Acc","accounts","eth","getAccounts","loadWeb3Contract","abi","Contract","fight","my_uuid","enemy_uuid","undefined","startFight","e","target","value","slice","map","student","name","replace","price","index","shortOwnerText","substring"],"sources":["/Users/valeria/VSCode/blockchain_based_game/past_blockchain_project/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport NFT from \"./contracts/NFT.json\";\nimport getWeb3 from \"./getWeb3\";\nimport './dark_theme/css/mdb.dark.min.css';\nimport \"./App.css\";\n\nconst App=()=>{\n\n  const PokemonObj = (nameID, owner) => { return { nameID: nameID, owner: owner } }\n  const [web3, setWeb3] = useState();\n  const [contract, setContract] = useState(null);\n  const [account, setAccounts] = useState(\"\");\n  const [nameID, setNameID] = useState(0);\n  const [pokemonList, setPokemonList]= useState([PokemonObj()]);\n  const [enemy, setEnemy] = useState(\"\")\n  const [priceText, setPriceText] = useState(\"0.0000000000001\");\n  const [studentId, setStudentId] = useState(0);\n  \n  const mint = () => {\n    if (nameID.length > 0)\n      contract.methods.mint(nameID).send({ from: account }, (error)=>{\n        console.log(\"it worked\")\n        if(!error){\n          let pok = PokemonObj(nameID,account);\n          setPokemonList([...pokemonList, pok]);\n          setNameID(0);\n          // setPriceText(\"\");\n          setStudentId(pokemonList.length); // TODO read uuid from solidity programm\n        \n        }\n      });\n  }\n\n   // load all the nfts\n  const loadNFTS = async (contract) => {\n    // get all NTFs from blockchain\n    const totalSupply = await contract.methods.totalSupply().call();\n    let newResults = [PokemonObj()];\n\n    for(let i = 0; i < totalSupply; i++){\n      let pokemon = await contract.methods.pokemons(i).call();\n      let newPok = (JSON.parse(JSON.stringify(pokemon))); //use json\n      let pokemonToOwner = await contract.methods.pokemonToOwner(i).call();\n      let newPokObj = PokemonObj(newPok.name_id, pokemonToOwner);\n      newResults.push(newPokObj);\n    }\n    setPokemonList(newResults);\n\n  }\n\n    // load web3 account from metamask\n  const loadWeb3Acc = async (web3) => {\n    const accounts = await web3.eth.getAccounts();\n    if(accounts){\n      setWeb3(web3);\n      setAccounts(accounts[0]);\n    }\n  }\n\n    // load the contract\n  const loadWeb3Contract = async (web3) => {\n    //const networkId = await web3.eth.net.getId();\n    //const networkData = NFT.networks[5];\n    //if(networkData){\n      const abi = NFT.abi;\n      // for local blockchain testing\n      // const address = networkData.address;\n      // const contract = new web3.eth.Contract(abi, address);\n      const contract = new web3.eth.Contract(abi, \"0x63a4e5e9559d1e72758216fc41e74b229a91cf42\"); // TODO get solidity contract address\n      setContract(contract);\n      return contract;\n    //}\n  }\n\n\n useEffect(async () => {\n  const web3 = await getWeb3();\n  await loadWeb3Acc(web3);\n  const contract = await loadWeb3Contract(web3);\n  await loadNFTS(contract);\n  }, [])\n\n\n  \n  function fight(my_uuid, enemy_uuid) {\n    if(my_uuid !== undefined && enemy_uuid !== undefined) {\n      \n      contract.methods.startFight(my_uuid,enemy_uuid).send( {from: account}, (error) => {\n        if(error) {\n          console.log(error);\n        }\n      });\n    }\n  }\n\n  return <div>\n<nav className=\"navbar navbar-light bg-light px-4\">\n  <a className=\"navbar-brand\" href=\"#\">Crypto Students</a>\n  <span  className=\"navbar-brand\" >{account}</span>\n</nav>\n<div className=\"container-fluid mt-5\">\n  <div className=\"row\">\n    <div className=\"col d-flex flex-column align-items-center\">\n      <div className=\"row-6\">\n      <img className=\"mb-4\" src=\"https://avatars.dicebear.com/api/avataaars/Welcome.svg\" alt=\"\" width=\"85\"/>\n      <img className=\"mb-4\" src=\"https://avatars.dicebear.com/api/avataaars/to_the.svg\" alt=\"\" width=\"85\"/>\n      <img className=\"mb-4\" src=\"https://avatars.dicebear.com/api/avataaars/best.svg\" alt=\"\" width=\"85\"/>\n      <img className=\"mb-4\" src=\"https://avatars.dicebear.com/api/avataaars/NFT_Marketplace.svg\" alt=\"\" width=\"85\"/>\n      </div>\n      <h1 className=\"display-5 fw-bold\">Create your own Crypto Student NFT!</h1>\n      <div className=\"col-6 text-center mb-3\" >\n        <div>\n          <input\n            type=\"text\"\n            value={nameID}\n            onChange={(e)=>setNameID(e.target.value)}\n            className=\"form-control mb-2\"\n            placeholder=\"e.g. Beethoven\" />\n          <button onClick={mint} className=\"btn btn-primary\">Mint</button>\n        </div>\n      </div>\n      <br/>\n      <br/>\n      <br/>\n      <h1>Your collection</h1>\n      <div className=\"col-8 d-flex justify-content-center flex-wrap p-4\">\n \n          {pokemonList.slice(1, pokemonList.length).map((student, my_uuid) => {\n            if (student.owner === account) {\n              return (\n                  <div className=\"d-flex flex-column align-items-center\" key={my_uuid}>\n                    <img width=\"150\"\n                         src={`https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`}/>\n                    <span>{student.name}</span>\n                    <div className=\"d-flex flex-row\">\n                      <input\n                          type=\"number\"\n                          value={pokemonList[my_uuid + 1].price}\n                          onChange={\n                            (e) =>\n                                \n                                setEnemy(e.target.value) // TODO possible bug: using enemy's uuid for another of your pokemon\n                          }\n                          className=\"p-2\"\n                          placeholder=\"Give enemy uuid\"/>\n                      <button onClick={() => fight(my_uuid,enemy)} className=\"btn btn-primary p-2\">FIGHT</button>\n                    </div>\n                  </div>\n              )\n            }\n          })}\n          \n      </div>\n      <br/>\n      <br/>\n      <br/>\n \n      <h1>See your friends NFTS</h1>\n      <div className=\"col-8 d-flex justify-content-center flex-wrap\">\n      \n        {pokemonList.slice(1, pokemonList.length).map((student, index) => {\n          if ( student.owner !== account) {\n            let shortOwnerText = student.owner.substring(0, 10) + \"...\"\n            return (\n              <div className=\"d-flex flex-column align-items-center p-4\" key={index}>\n                <img width=\"150\" src={`https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`} />\n                <span>{student.name}</span>\n                <span>Owner : {shortOwnerText}</span>\n              </div>\n          )\n          }\n        })\n        }\n      </div>\n\n    </div>\n  </div>\n</div>\n</div>;\n};\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}