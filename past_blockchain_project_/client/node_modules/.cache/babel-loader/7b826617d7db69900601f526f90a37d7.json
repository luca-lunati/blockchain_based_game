{"ast":null,"code":"var _jsxFileName = \"/Users/valeria/VSCode/gruppe1/client/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport NFT from \"./contracts/NFT.json\";\nimport getWeb3 from \"./getWeb3\";\nimport './dark_theme/css/mdb.dark.min.css';\nimport \"./App.css\";\n\nconst App = () => {\n  const StudentObj = (name, price, id, owner) => {\n    return {\n      name: name,\n      price: price,\n      id: id,\n      owner: owner\n    };\n  };\n\n  const [web3, setWeb3] = useState();\n  const [contract, setContract] = useState(null);\n  const [account, setAccounts] = useState(\"\");\n  const [mintText, setMintText] = useState(\"\");\n  const [newStudents, setNewStudents] = useState([StudentObj()]);\n  const [priceText, setPriceText] = useState(\"\");\n  const [studentId, setStudentId] = useState(0);\n\n  const mint = () => {\n    if (mintText.length > 0) contract.methods.mint(mintText).send({\n      from: account\n    }, error => {\n      console.log(\"it worked\");\n\n      if (!error) {\n        let student = StudentObj(mintText, priceText, studentId);\n        setNewStudents([...newStudents, student]);\n        setMintText(\"\");\n        setPriceText(\"\");\n        setStudentId(newStudents.length);\n      }\n    });\n  };\n\n  const loadNFTS = async contract => {\n    const totalSupply = await contract.methods.totalSupply().call();\n    console.log(totalSupply);\n    let newResults = [StudentObj()];\n\n    for (let i = 0; i < totalSupply; i++) {\n      let student = await contract.methods.students(i).call();\n      let newStudent = JSON.parse(JSON.stringify(student)); //use json\n\n      let newStudenPrice = newStudent.price / 1000000000000000000; //convert wei to ether\n\n      let studentToOwner = await contract.methods.studentToOwner(i).call();\n      let newStudent2 = StudentObj(newStudent.name, newStudenPrice, newStudent.id, studentToOwner);\n      newResults.push(newStudent2);\n    }\n\n    setNewStudents(newResults); // console.log(newStudents)\n  };\n\n  const loadWeb3Acc = async web3 => {\n    const accounts = await web3.eth.getAccounts();\n    console.log(accounts);\n\n    if (accounts) {\n      setWeb3(web3);\n      setAccounts(accounts[0]);\n    }\n  };\n\n  const loadWeb3Contract = async web3 => {\n    const networkId = await web3.eth.net.getId();\n    const networkData = NFT.networks[networkId];\n\n    if (networkData) {\n      const abi = NFT.abi; // const address = networkData.address;\n\n      const contract = new web3.eth.Contract(abi, \"0xDaE477F7A95B4Ef701D25917119E83864780cb19\");\n      setContract(contract);\n      console.log(contract);\n      return contract;\n    }\n  }; // load web3 account from metamast\n  // load the contract\n  // load all the nfts\n\n\n  useEffect(async () => {\n    console.log(\"USEEFFECT ACTIVATED\");\n    const web3 = await getWeb3();\n    await loadWeb3Acc(web3);\n    const contract = await loadWeb3Contract(web3);\n    await loadNFTS(contract);\n  }, []);\n\n  function buy(id, price) {\n    if (id !== undefined) {\n      console.log(\"ID IS: \" + id);\n      contract.methods.buyNFT(id).send({\n        from: account,\n        value: web3.utils.toWei(price.toString(), \"ether\")\n      }, error => {\n        if (error) {\n          console.log(error);\n        }\n      });\n    }\n  }\n\n  function setStudentPrice(index, value) {\n    if (value !== undefined) {\n      const data = [...newStudents];\n      data[index + 1].price = value;\n      setNewStudents(data);\n    }\n  }\n\n  const sell = index => {\n    let weiPrice = web3.utils.toWei(newStudents[index + 1].price, \"ether\");\n    contract.methods.setPrice(newStudents[index + 1].id, weiPrice).send({\n      from: account\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar navbar-light bg-light px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"navbar-brand\",\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 3\n    }\n  }, \"Crypto Students\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 3\n    }\n  }, account)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col d-flex flex-column align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mb-4\",\n    src: \"https://avatars.dicebear.com/api/avataaars/Vale.svg\",\n    alt: \"\",\n    width: \"72\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-5 fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, \"Create your own Crypto Student NFT!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 text-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: mintText,\n    onChange: e => setMintText(e.target.value),\n    className: \"form-control mb-2\",\n    placeholder: \"e.g. Naz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: mint,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"Mint\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, \"Your collection\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8 d-flex justify-content-center flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, newStudents.slice(1, newStudents.length).map((student, index) => {\n    if (student.owner === account) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column align-items-center\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"150\",\n        src: `https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, student.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        value: newStudents[index + 1].price,\n        onChange: e => // prices.push(e.target.value)\n        setStudentPrice(index, e.target.value),\n        className: \"p-2\",\n        placeholder: \"Set a price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => sell(index),\n        className: \"btn btn-primary p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 23\n        }\n      }, \"Sell\")));\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, \"Buy Students\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8 d-flex justify-content-center flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }, newStudents.slice(1, newStudents.length).map((student, index) => {\n    if (student.price > 0 && student.owner !== account) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column align-items-center\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"150\",\n        src: `https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 17\n        }\n      }, student.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => buy(student.id, student.price),\n        className: \"btn btn-primary p-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 19\n        }\n      }, \"Buy for \", student.price, \" ETH\")));\n    }\n  }))))));\n};\n\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","NFT","getWeb3","App","StudentObj","name","price","id","owner","web3","setWeb3","contract","setContract","account","setAccounts","mintText","setMintText","newStudents","setNewStudents","priceText","setPriceText","studentId","setStudentId","mint","length","methods","send","from","error","console","log","student","loadNFTS","totalSupply","call","newResults","i","students","newStudent","JSON","parse","stringify","newStudenPrice","studentToOwner","newStudent2","push","loadWeb3Acc","accounts","eth","getAccounts","loadWeb3Contract","networkId","net","getId","networkData","networks","abi","Contract","buy","undefined","buyNFT","value","utils","toWei","toString","setStudentPrice","index","data","sell","weiPrice","setPrice","e","target","slice","map","replace"],"sources":["/Users/valeria/VSCode/gruppe1/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport NFT from \"./contracts/NFT.json\";\nimport getWeb3 from \"./getWeb3\";\nimport './dark_theme/css/mdb.dark.min.css';\nimport \"./App.css\";\n\nconst App=()=>{\n\n  const StudentObj = (name, price, id, owner) => { return { name: name, price: price, id: id, owner: owner } }\n  const [web3, setWeb3] = useState();\n  const [contract, setContract] = useState(null);\n  const [account, setAccounts] = useState(\"\");\n  const [mintText, setMintText] = useState(\"\");\n  const [newStudents, setNewStudents]= useState([StudentObj()]);\n  const [priceText, setPriceText] = useState(\"\");\n  const [studentId, setStudentId] = useState(0);\n  \n  const mint = () => {\n    if (mintText.length > 0)\n      contract.methods.mint(mintText).send({ from: account }, (error)=>{\n        console.log(\"it worked\")\n        if(!error){\n          let student = StudentObj(mintText, priceText, studentId);\n          setNewStudents([...newStudents, student]);\n          setMintText(\"\");\n          setPriceText(\"\");\n          setStudentId(newStudents.length);\n        }\n      });\n  }\n\n  const loadNFTS = async (contract) => {\n    const totalSupply = await contract.methods.totalSupply().call();\n    console.log(totalSupply);\n    let newResults = [StudentObj()];\n\n    for(let i = 0; i < totalSupply; i++){\n      let student = await contract.methods.students(i).call();\n      let newStudent = (JSON.parse(JSON.stringify(student))); //use json\n      let newStudenPrice = newStudent.price / 1000000000000000000; //convert wei to ether\n      let studentToOwner = await contract.methods.studentToOwner(i).call();\n      let newStudent2 = StudentObj(newStudent.name, newStudenPrice, newStudent.id, studentToOwner);\n      newResults.push(newStudent2);\n    }\n    setNewStudents(newResults);\n    // console.log(newStudents)\n  }\n\n  const loadWeb3Acc = async (web3) => {\n    const accounts = await web3.eth.getAccounts();\n    console.log(accounts)\n    if(accounts){\n      setWeb3(web3);\n      setAccounts(accounts[0]);\n    }\n  }\n\n  const loadWeb3Contract = async (web3) => {\n    const networkId = await web3.eth.net.getId();\n    const networkData = NFT.networks[networkId];\n    if(networkData){\n      const abi = NFT.abi;\n      // const address = networkData.address;\n      const contract = new web3.eth.Contract(abi, \"0xDaE477F7A95B4Ef701D25917119E83864780cb19\");\n      setContract(contract);\n      console.log(contract);\n      return contract;\n    }\n  }\n\n  // load web3 account from metamast\n  // load the contract\n  // load all the nfts\n\n useEffect(async () => {\n   console.log(\"USEEFFECT ACTIVATED\");\n  const web3 = await getWeb3();\n  await loadWeb3Acc(web3);\n  const contract = await loadWeb3Contract(web3);\n  await loadNFTS(contract);\n  }, [])\n\n  function buy(id, price) {\n    if(id !== undefined) {\n      console.log(\"ID IS: \" + id);\n      contract.methods.buyNFT(id).send( {from: account, value: web3.utils.toWei(price.toString(), \"ether\")}, (error) => {\n        if(error) {\n          console.log(error);\n        }\n      });\n    }\n  }\n\n  function setStudentPrice(index, value) {\n    if(value !== undefined) {\n      const data = [...newStudents]\n      data[index+1].price = value\n      setNewStudents(data)\n    }\n  }\n\n  const sell = (index) => {\n    let weiPrice = web3.utils.toWei(newStudents[index+1].price, \"ether\")\n    contract.methods.setPrice(newStudents[index+1].id, weiPrice).send({ from: account });\n  }\n\n  return <div>\n<nav className=\"navbar navbar-light bg-light px-4\">\n  <a className=\"navbar-brand\" href=\"#\">Crypto Students</a>\n  <span>{account}</span>\n</nav>\n<div className=\"container-fluid mt-5\">\n  <div className=\"row\">\n    <div className=\"col d-flex flex-column align-items-center\">\n      <img className=\"mb-4\" src=\"https://avatars.dicebear.com/api/avataaars/Vale.svg\" alt=\"\" width=\"72\"/>\n      <h1 className=\"display-5 fw-bold\">Create your own Crypto Student NFT!</h1>\n      <div className=\"col-6 text-center mb-3\" >\n        <div>\n          <input\n            type=\"text\"\n            value={mintText}\n            onChange={(e)=>setMintText(e.target.value)}\n            className=\"form-control mb-2\"\n            placeholder=\"e.g. Naz\" />\n          <button onClick={mint} className=\"btn btn-primary\">Mint</button>\n        </div>\n      </div>\n      <br/>\n      <br/>\n      <br/>\n      <h1>Your collection</h1>\n      <div className=\"col-8 d-flex justify-content-center flex-wrap\">\n          {newStudents.slice(1, newStudents.length).map((student, index) => {\n            if (student.owner === account) {\n              return (\n                  <div className=\"d-flex flex-column align-items-center\" key={index}>\n                    <img width=\"150\"\n                         src={`https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`}/>\n                    <span>{student.name}</span>\n                    <div className=\"d-flex flex-row\">\n                      <input\n                          type=\"number\"\n                          value={newStudents[index + 1].price}\n                          onChange={\n                            (e) =>\n                                // prices.push(e.target.value)\n                                setStudentPrice(index, e.target.value)\n                          }\n                          className=\"p-2\"\n                          placeholder=\"Set a price\"/>\n                      <button onClick={() => sell(index)} className=\"btn btn-primary p-2\">Sell</button>\n                    </div>\n                  </div>\n              )\n            }\n          })}\n      </div>\n      <br/>\n      <br/>\n      <br/>\n      <h1>Buy Students</h1>\n      <div className=\"col-8 d-flex justify-content-center flex-wrap\">\n\n        {newStudents.slice(1, newStudents.length).map((student, index) => {\n          if (student.price > 0 && student.owner !== account) {\n            return (\n              <div className=\"d-flex flex-column align-items-center\" key={index}>\n                <img width=\"150\" src={`https://avatars.dicebear.com/api/avataaars/${student.name.replace(\"#\", \"\")}.svg`} />\n                <span>{student.name}</span>\n                <div className=\"d-flex flex-row\">\n                  <button onClick={() => buy(student.id, student.price)} className=\"btn btn-primary p-2\">Buy for {student.price} ETH</button>\n                </div>\n              </div>\n          )\n          }\n        })\n        }\n      </div>\n    </div>\n  </div>\n</div>\n</div>;\n};\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}